<!DOCTYPE html>
<html>
<head>
  <title>Aerofly Moving Map & Radio</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <link rel="stylesheet" href="css/main.css">
</head>
<body>
  <!-- Navigation Buttons -->
  <div class="nav-buttons">
    <button class="nav-button active" onclick="showPage('map')">Map</button>
    <button class="nav-button" onclick="showPage('radio')">Radio</button>
  </div>
  
     <!-- Map Controls -->
   <div class="map-controls active" id="map-controls">
     <div class="top-row-controls">
       <div class="map-selector">
         <select id="map-tile-selector" onchange="changeMapTile()">
           <option value="OpenStreetMap">OpenStreetMap</option>
           <option value="OpenTopoMap">OpenTopoMap</option>
           <option value="Esri.WorldImagery">Satellite (Esri)</option>
         </select>
       </div>
       
       <div class="airport-toggle">
         <input type="checkbox" id="airport-toggle" checked onchange="toggleAirports()">
         <label for="airport-toggle">Airports</label>
       </div>
       
       <div class="aircraft-follow-toggle">
         <input type="checkbox" id="aircraft-follow-toggle" checked onchange="toggleAircraftFollow()">
         <label for="aircraft-follow-toggle">Follow Aircraft</label>
       </div>
     </div>
     
     <div class="route-planner">
       <div class="top-row">
         <div class="route-display">
           <span>FROM:</span>
           <div class="route-field" id="route-from-display">Click airport</div>
           <span>â†’</span>
           <span>TO:</span>
           <div class="route-field" id="route-to-display">Click airport</div>
         </div>
         <button onclick="drawRoute()" id="route-button" disabled>Route</button>
         <button class="clear" onclick="clearRoute()">Clear</button>
       </div>
       <div class="route-info" id="route-info" style="display: none;">
         <div class="route-info-row">
           <span><b>Bearing:</b></span>
           <span id="route-bearing">--</span>
         </div>
         <div class="route-info-row">
           <span><b>Distance:</b></span>
           <span id="route-distance">--</span>
         </div>
       </div>
     </div>
   </div>

  <!-- Map Page -->
  <div id="map-page" class="page active">
    <div id="map"></div>
  </div>

     <!-- Radio Page -->
   <div id="radio-page" class="page">
     <div class="radio-container">
       <!-- Route Information Display -->
       <div class="route-info-display" id="route-info-display" style="display: none;">
         <div class="route-airport-info">
           <h3>FROM</h3>
           <div class="icao" id="radio-from-icao">--</div>
           <div class="name" id="radio-from-name">--</div>
           <div class="frequencies" id="radio-from-freq">--</div>
         </div>
         <div class="route-airport-info">
           <h3>TO</h3>
           <div class="icao" id="radio-to-icao">--</div>
           <div class="name" id="radio-to-name">--</div>
           <div class="frequencies" id="radio-to-freq">--</div>
         </div>
       </div>
       
       <!-- COM1 Section -->
        <div class="radio-section">
         <div class="radio-title">COM1</div>
         <div class="frequency-display-row">
           <div class="frequency-display-active" id="com1-active">118.000</div>
           <button class="swap-button" onclick="swapFrequencies('com1')">SWAP</button>
           <div class="frequency-display-standby" id="com1-standby">118.500</div>
         </div>
        <div class="frequency-input">
          <input type="text" class="freq-digit" id="com1-digit1" maxlength="1" value="1" readonly>
          <input type="text" class="freq-digit" id="com1-digit2" maxlength="1" value="1" readonly>
          <input type="text" class="freq-digit" id="com1-digit3" maxlength="1" value="8" readonly>
          <span style="font-size: 24px; font-weight: bold; line-height: 50px;">.</span>
          <input type="text" class="freq-digit" id="com1-digit4" maxlength="1" value="0" readonly>
          <input type="text" class="freq-digit" id="com1-digit5" maxlength="1" value="0" readonly>
          <input type="text" class="freq-digit" id="com1-digit6" maxlength="1" value="0" readonly>
        </div>
        <div class="keypad">
          <button class="keypad-button" onclick="pressKey('com1', '1')">1</button>
          <button class="keypad-button" onclick="pressKey('com1', '2')">2</button>
          <button class="keypad-button" onclick="pressKey('com1', '3')">3</button>
          <button class="keypad-button" onclick="pressKey('com1', '4')">4</button>
          <button class="keypad-button" onclick="pressKey('com1', '5')">5</button>
          <button class="keypad-button" onclick="pressKey('com1', '6')">6</button>
          <button class="keypad-button" onclick="pressKey('com1', '7')">7</button>
          <button class="keypad-button" onclick="pressKey('com1', '8')">8</button>
          <button class="keypad-button" onclick="pressKey('com1', '9')">9</button>
          <button class="keypad-button clear" onclick="clearFreq('com1')">C</button>
          <button class="keypad-button" onclick="pressKey('com1', '0')">0</button>
          <button class="keypad-button enter" onclick="enterFreq('com1')">ENT</button>
        </div>
        <button class="power-button" id="com1-power" onclick="togglePower('com1')">POWER OFF</button>
      </div>

             <!-- COM2 Section -->
       <div class="radio-section">
         <div class="radio-title">COM2</div>
         <div class="frequency-display-row">
           <div class="frequency-display-active" id="com2-active">118.500</div>
           <button class="swap-button" onclick="swapFrequencies('com2')">SWAP</button>
           <div class="frequency-display-standby" id="com2-standby">118.000</div>
         </div>
        <div class="frequency-input">
          <input type="text" class="freq-digit" id="com2-digit1" maxlength="1" value="1" readonly>
          <input type="text" class="freq-digit" id="com2-digit2" maxlength="1" value="1" readonly>
          <input type="text" class="freq-digit" id="com2-digit3" maxlength="1" value="8" readonly>
          <span style="font-size: 24px; font-weight: bold; line-height: 50px;">.</span>
          <input type="text" class="freq-digit" id="com2-digit4" maxlength="1" value="5" readonly>
          <input type="text" class="freq-digit" id="com2-digit5" maxlength="1" value="0" readonly>
          <input type="text" class="freq-digit" id="com2-digit6" maxlength="1" value="0" readonly>
        </div>
        <div class="keypad">
          <button class="keypad-button" onclick="pressKey('com2', '1')">1</button>
          <button class="keypad-button" onclick="pressKey('com2', '2')">2</button>
          <button class="keypad-button" onclick="pressKey('com2', '3')">3</button>
          <button class="keypad-button" onclick="pressKey('com2', '4')">4</button>
          <button class="keypad-button" onclick="pressKey('com2', '5')">5</button>
          <button class="keypad-button" onclick="pressKey('com2', '6')">6</button>
          <button class="keypad-button" onclick="pressKey('com2', '7')">7</button>
          <button class="keypad-button" onclick="pressKey('com2', '8')">8</button>
          <button class="keypad-button" onclick="pressKey('com2', '9')">9</button>
          <button class="keypad-button clear" onclick="clearFreq('com2')">C</button>
          <button class="keypad-button" onclick="pressKey('com2', '0')">0</button>
          <button class="keypad-button enter" onclick="enterFreq('com2')">ENT</button>
        </div>
        <button class="power-button" id="com2-power" onclick="togglePower('com2')">POWER OFF</button>
      </div>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-providers@latest/leaflet-providers.js"></script>
  <script src="https://rawcdn.githack.com/bbecquet/Leaflet.RotatedMarker/master/leaflet.rotatedMarker.js"></script>
  <script src="js/main.js"></script>
  </body>
</html>
